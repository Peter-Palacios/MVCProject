@model MVCProject.Models.IndexViewModel
@using Microsoft.AspNetCore.Identity
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<h1>Reservations</h1>
<table class="table">
<thead>
    <tr>
        <th>
           @* displays heading for column id*@
            @Html.DisplayNameFor(model=>model.Reservations.Last().Id)
        </th>
        <th>
            @* displays heading for column name*@
            @Html.DisplayNameFor(model=>model.Reservations.Last().LastName)
        
        </th> 

    </tr>

</thead>
<tbody>

@foreach ( var item in Model.Reservations)
{
@if (@item.email == ViewBag.userEmail || (User.Identity.IsAuthenticated && User.Identity.Name == "Admin")) {
<tr>
<td>@Html.DisplayFor(modelitem=>item.Id) </td>
<td>@Html.DisplayFor(modelitem=>item.LastName) </td>
<td>



<a asp-action="Details"asp-route-id ="@item.Id">Details</a>
</td>
<td>



<a asp-action="Delete"asp-route-id ="@item.Id">Delete</a>
</td>
<td>



<a asp-action="Update"asp-route-id ="@item.Id">Update</a>
</td>




</tr>
}
}



</tbody>

</table>
<a asp-action="Create" >Create Reservation</a>


